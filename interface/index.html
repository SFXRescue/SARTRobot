<!DOCTYPE html>
<html>
	<!--#########################################################
	# Created by the Semi Autonomous Rescue Team				#
	#															#
	# Author: Jack Williams, Connor Kneebone					#
	#															#
	# Licensed under GNU General Public License 3.0				#
	##########################################################-->

	<title>S.A.R.T. Interface</title>
	<head>
		<!--Link CSS and scripts-->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" href="css/favicon.ico" type="image/x-icon" />
		
		<!-- Interface CSS --> 
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/circle.css">
		<link rel="stylesheet" href="css/bootoast.min.css">
		<link rel="stylesheet" href="css/sart.style.css">
		<!-- Syntax highlighting -->
		<link rel="stylesheet" href="css/monokai.css">

		<!-- jQuery -->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery-ui.min.js"></script>
		<!-- UI scripts -->
		<script src="js/popper.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/bootoast.min.js"></script>
		<script src="js/Chart.bundle.js"></script>
		<!-- Syntax highlighting -->
		<script src="js/highlight.pack.js"></script>
		<!-- Font Awesome -->
		<script defer src="js/fontawesome/fontawesome.js"></script>
		<script defer src="js/fontawesome/solid.js"></script>
		<!-- S.A.R.T. Scripts -->
		<script src="js/sart.interface.js"></script>
		<script src="js/sart.demo.js"></script>
		<script src="js/sart.sensors.js"></script>
		<script src="js/sart.gamepad.js"></script>

	</head>
	<body>
		<div class="modal fade top" id="sshModal" role="dialog" data-backdrop="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header dragHeader" id="sshDrag">
						<h4 class="modal-title"><i class="fas fa-fw fa-terminal"></i> SSH</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<iframe id="ssh_iframe" src="" width="100%" height="400px"></iframe>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-warning btn-default" onclick="refreshSSH();"><i class="fa fa-redo"></i> Refresh</button>
						<button type="button" class="btn btn-danger btn-default" data-dismiss="modal">&times; Close</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade top" id="logModal" role="dialog" data-backdrop="true">
			<div class="modal-dialog modal-lg" >
				<div class="modal-content">
					<div class="modal-header dragHeader" id="logDrag">
						<h4 class="modal-title"><i class="fas fa-fw fa-clipboard-list"></i> Logs</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<button type="button" class="btn btn-default" id="controller_dump_button">
							<i class="fa fa-file-export"></i> Dump Controller Data
						</button>
						<button type="button" class="btn btn-default" id="sensor_dump_button">
							<i class="fa fa-file-export"></i> Dump Sensor Data
						</button>
						<button type="button" class="btn btn-danger btn-default float-right" id="log_clear">
							<i class="fa fa-trash-alt"></i> Clear
						</button>
						<p><pre><code id="dump_box" class="JSON" contenteditable="true"></code></pre></p>
						<button type="button" class="btn btn-default" id="select_log_button">
							<i class="fa fa-check-square"></i> Select All
						</button>
						<div class="float-right" id="uptime">Uptime: 0.0s</div>
					</div>
				</div>
			</div>
		</div>

		<nav class="navbar navbar-toggleable-sm navbar-fixed-top navbar-light bg-light main-nav">
			<div class="container-fluid">
				<ul class="nav navbar-nav">
					<li class="nav-item">
						<span class="d-inline-block" rel="tooltip" data-placement="bottom" title="Controller connection status">
							<button type="button" id="controller_status" class="btn btn-danger" style="pointer-events: none">
								<i class="fa fa-fw fa-gamepad"></i> Press a button to connect
							</button>
						</span>
						<span class="d-inline-block" rel="tooltip" data-placement="bottom" title="Robot connection status">
							<button type="button" id="robot_status" class="btn btn-danger" style="pointer-events: none">
								<i class="fa fa-fw fa-link"></i> Disconnected from robot
							</button>
						</span>
					</li>
				</ul>
				<ul class="nav navbar-nav abs-center-x">
					<li class="nav-item">
						<button type="button" class="btn btn-light" id="nav_title" data-toggle="tooltip" data-placement="bottom" title="Reload page">
							<span style="color: #FF5A00">S.A.R.T.</span> Control Interface
						</button>
					</li>
				</ul>
				<div class="inline">
					<button type="button" class="btn btn-outline-dark" id="sensorToggle" data-toggle="tooltip" data-placement="bottom" title="Swap between sensor and camera view" data-trigger="hover">
						<i class="fa fa-fw fa-chart-area"></i> Toggle Sensors
					</button>
					<button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#sshModal" rel="tooltip" data-placement="bottom" title="Open SSH window">
						<i class="fa fa-fw fa-terminal"></i> SSH
					</button>
					<button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#logModal" rel="tooltip" data-placement="bottom" title="Open log window">
						<i class="fa fa-fw fa-clipboard-list"></i> Logs
					</button>
					<div class="btn-group dropleft" role="group">
						<button id="powerButtonDropdown" type="button" class="btn btn-outline-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Power
						</button>
						<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
							<a class="dropdown-item" href="shutdown.php" rel="tooltip" data-placement="left" title="Safely power off the robot"><i class="fa fa-power-off fa-fw"></i> Shutdown</a>
							<a class="dropdown-item" href="restart.php" rel="tooltip" data-placement="left" title="Safely reboot the robot"><i class="fa fa-undo fa-fw"></i> Reboot</a>
							<a class="dropdown-item" href="#" onclick="DemoMode()" rel="tooltip" data-placement="left" title="Load demo mode"><i class="fa fa-object-group fa-fw"></i> Demo Mode</a>
						</div>
					</div>
				</div>
			</div>
		</nav>
		<div class="container-fluid">
			<br/>
			<div class="row justify-content-md-center">
				<div class="col-md-auto">
					
					<div class="row">
						<div class="col">
							<div class="card">
								<div class="card-body">
									<div id="cputemp_graph" class="c100 p0 med orange">
										<span id="cputemp_level">0Â°C</span>
										<div class="slice">
											<div class="bar"></div>
											<div class="fill"></div>
										</div>
									</div>
								</div>
								<div class="card-header">
									<span>CPU Temp.</span><br/>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="card">
								<div class="card-body">
									<div id="charge_graph" class="c100 p0 med orange">
										<span id="charge_level">0%</span>
										<div class="slice">
											<div class="bar"></div>
											<div class="fill"></div>
										</div>	
									</div>
								</div>
								<div class="card-header">
									<span>Charge Level</span><br/>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-auto">
					<div class="card" style="border: 0px">
						<img id="camera_front" width="480" class="streamImage" src=""/>
					</div>
				</div>
				<div class="col-md-auto">
					<div class="row">
						<div class="col">
							<div class="card">
								<div class="card-body">
									<div id="co2_graph" class="c100 p0 med orange">
										<span id="co2_level">0<span style="font-size: 10px"> ppm</span></span>
										<div class="slice">
											<div class="bar"></div>
											<div class="fill"></div>
										</div>
									</div>
								</div>
								<div class="card-header">
									<span>CO<sub>2</sub> Level</span><br/>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="card">
								<div class="card-body">
									<div id="tvoc_graph" class="c100 p0 med orange">
										<span id="tvoc_level">0<span style="font-size: 10px"> ppb</span></span>
										<div class="slice">
											<div class="bar"></div>
											<div class="fill"></div>
										</div>
									</div>
								</div>
								<div class="card-header">
									<span>TVOC Level</span><br/>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row justify-content-md-center" id="btm_view_sensors" style="padding-top:20px">
				<div class="col-md-auto">
					<div class="card">
						<div class="card-header">
							<i class="fas fa-fw fa-ruler-horizontal"></i> Distance
						</div>
						<div class="card-body">
							<canvas id="distChart" width="400" height="200"></canvas>
						</div>
					</div>
				</div>
				<div class="col-md-auto">
					<div class="card">
						<div class="card-header">
							<i class="fas fa-fw fa-camera"></i> Thermal Camera
						</div>
						<div class="">
							<table>
								<tr>
									<td><div class="content" id="p1"></div></td>
									<td><div class="content" id="p2"></div></td>
									<td><div class="content" id="p3"></div></td>
									<td><div class="content" id="p4"></div></td>
									<td><div class="content" id="p5"></div></td>
									<td><div class="content" id="p6"></div></td>
									<td><div class="content" id="p7"></div></td>
									<td><div class="content" id="p8"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p9"></div></td>
									<td><div class="content" id="p10"></div></td>
									<td><div class="content" id="p11"></div></td>
									<td><div class="content" id="p12"></div></td>
									<td><div class="content" id="p13"></div></td>
									<td><div class="content" id="p14"></div></td>
									<td><div class="content" id="p15"></div></td>
									<td><div class="content" id="p16"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p17"></div></td>
									<td><div class="content" id="p18"></div></td>
									<td><div class="content" id="p19"></div></td>
									<td><div class="content" id="p20"></div></td>
									<td><div class="content" id="p21"></div></td>
									<td><div class="content" id="p22"></div></td>
									<td><div class="content" id="p23"></div></td>
									<td><div class="content" id="p24"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p25"></div></td>
									<td><div class="content" id="p26"></div></td>
									<td><div class="content" id="p27"></div></td>
									<td><div class="content" id="p28"></div></td>
									<td><div class="content" id="p29"></div></td>
									<td><div class="content" id="p30"></div></td>
									<td><div class="content" id="p31"></div></td>
									<td><div class="content" id="p32"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p33"></div></td>
									<td><div class="content" id="p34"></div></td>
									<td><div class="content" id="p35"></div></td>
									<td><div class="content" id="p36"></div></td>
									<td><div class="content" id="p37"></div></td>
									<td><div class="content" id="p38"></div></td>
									<td><div class="content" id="p39"></div></td>
									<td><div class="content" id="p40"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p41"></div></td>
									<td><div class="content" id="p42"></div></td>
									<td><div class="content" id="p43"></div></td>
									<td><div class="content" id="p44"></div></td>
									<td><div class="content" id="p45"></div></td>
									<td><div class="content" id="p46"></div></td>
									<td><div class="content" id="p47"></div></td>
									<td><div class="content" id="p48"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p49"></div></td>
									<td><div class="content" id="p50"></div></td>
									<td><div class="content" id="p51"></div></td>
									<td><div class="content" id="p52"></div></td>
									<td><div class="content" id="p53"></div></td>
									<td><div class="content" id="p54"></div></td>
									<td><div class="content" id="p55"></div></td>
									<td><div class="content" id="p56"></div></td>
								</tr>
								<tr>
									<td><div class="content" id="p57"></div></td>
									<td><div class="content" id="p58"></div></td>
									<td><div class="content" id="p59"></div></td>
									<td><div class="content" id="p60"></div></td>
									<td><div class="content" id="p61"></div></td>
									<td><div class="content" id="p62"></div></td>
									<td><div class="content" id="p63"></div></td>
									<td><div class="content" id="p64"></div></td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div class="col-md-auto">
					<div class="card">
						<div class="card-header">
							<i class="fas fa-fw fa-thermometer-half"></i> Temperature
						</div>
						<div class="card-body">
							<canvas id="tempChart" width="400" height="200"></canvas>
						</div>
					</div>
				</div>
			</div>
			<div class="row justify-content-md-center no-gutters" style="" id="btm_view_camera">
				<div class="col-md-auto ">
					<div class="card" style="border: 0px">
						<img width="420" id="camera_left" class="img-fluid streamImage" src="" />
					</div>
				</div>
				
				<div class="col-md-auto">
					<div class="card" style="border: 0px">
						<img width="420" id="camera_back" class="img-fluid streamImage" src="" />
					</div>
				</div>
				
				<div class="col-md-auto">
					<div class="card" style="border: 0px">
						<img width="420" id="camera_right" class="img-fluid streamImage" src="" />
					</div>
				</div>
			</div>
		</div>

	</body>
</html>
